ARDUINO_DIR     = @ARDUINO_DIR@
BOARD_TAG       = @BOARD@
ARCHITECTURE    = @ARCHITECTURE@
ARDUINO_CORE    = @ARDUINO_CORE@
ARDUINO_VARIANT = @VARIANT@
ARDUINO_VERSION = @ARDUINO_VERSION@
VENDOR          = @VENDOR@

MCU   = @MCU@
F_CPU = @F_CPU@

HEX_MAXIMUM_SIZE       = @HEX_MAXIMUM_SIZE@
AVRDUDE_ARD_PROGRAMMER = @AVRDUDE_ARD_PROGRAMMER@
AVR_BAUD               = @AVR_BAUD@

ARDUINO_ARCH_FLAG = -DARDUINO_ARCH_$(shell echo $(ARCHITECTURE) | \
                                     tr '[:lower:]' '[:upper:]')

ARDUINO_HEADER_DIRS = @ARDUINO_HEADER_DIRS@
ARDUINO_HEADER_DIR_FLAGS = $(patsubst %, -I%, @ARDUINO_HEADER_DIRS@)

INCLUSION_FLAGS = $(ARDUINO_HEADER_DIR_FLAGS) 
SYMBOL_FLAGS = -DAVR_BAUD=$(AVR_BAUD)

CFLAGS  := -std=gnu11 -flto -fno-fat-lto-objects $(ARDUINO_ARCH_FLAG)
CXXFLAGS := -std=gnu++11 -fno-threadsafe-statics -flto \
	       -fpermissive -fno-exceptions $(ARDUINO_ARCH_FLAG)

CFLAGS   += -mmcu=$(MCU) -DF_CPU=$(F_CPU) \
	    -DARDUINO=$(ARDUINO_VERSION) -D__PROG_TYPES_COMPAT__ \
	    $(SYMBOL_FLAGS)
CXXFLAGS += -mmcu=$(MCU) -DF_CPU=$(F_CPU) \
	    -DARDUINO=$(ARDUINO_VERSION) -D__PROG_TYPES_COMPAT__ \
	    $(SYMBOL_FLAGS)
LDFLAGS   += -mmcu=$(MCU) -DF_CPU=$(F_CPU) \
	    -DARDUINO=$(ARDUINO_VERSION) -D__PROG_TYPES_COMPAT__
SIZEFLAGS ?= --mcu=$(MCU) -C
